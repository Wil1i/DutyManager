<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مشخصات کاربر - اپل سرویس</title>
    <link rel="stylesheet" href="/css/singleUserInformation.css">
    <link rel="stylesheet" href="/css/fonts.css">
</head>
<body>
    <div class="rightInformation">

        <div class="topInfo">

            <div class="infoHandler">
                <p><%=userInfo.firstName%> <%=userInfo.lastName%></p>
                <p style="float: right; color: gray; font-weight: 200;"><%= userInfo.userRank %></p><h3 style="font-weight: 100;color: gray;margin: 0 5px;margin-top:2px;float: right;">·</h3><p style="float: right; color: gray; font-weight: 200"><%=(isUserOnDuty) ? "حاضر در کار" : "غایب در کار"%></p>
            </div>

            <div class="imageHandler">
                <img src="/uploads/<%= userInfo.profile || "profile.png" %>" alt="">
            </div>

        </div>

        <ul class="listItems">
            <li>
                کد پرسنلی
                <p id="personeliCode"><%=userInfo.codePersoneli%></p>
            </li>

            <li>
                تاریخ تولد
                <p><%=userInfo.birthday%></p>
            </li>

            <li>
                ساعت کاری
                <p><%=userInfo.dutyHours%> : <%=userInfo.dutyMinutes%></p>
            </li>
        </ul>

        <div style="width: 100%; height: 47px">
            <p id="resetWorkHours" class="deleteUser" style="width: 48%; font-size: 14px; float: left" >ریست ساعت کاری</p>
            <p id="deleteHistory" class="deleteUser" style="width: 48%; font-size: 14px; float: right">حذف تاریخچه کاری</p>
        </div>
        <p id="deleteUser" class="deleteUser" style="margin-top: 3px">حذف کاربر</p>

    </div>

    <div id="dutyInformations">
        <div>
            <h1>ساعات کاری</h1>
        </div>
        <ul class="dutyInformationsHandler <%= (dutyInformation.length != 0) ? "" : "alignCenter" %>" >
            <% if(dutyInformation.length != 0){ %>

                <% let counter = 0 %>
                <% dutyInformation.forEach(d => { %>
                    <%counter++%>
                    <li>
                        <p><small style="color: gray; font-size: 16px;font-weight: 100; margin-right: 13px; border-right: 1px solid rgb(223, 223, 223); padding-right: 13px;line-height: 1px;"><%=(counter < 10) ? "0"+counter : counter%></small> <%=(d.startTime) ? d.startTime : "یافت نشد"%></p>
                        <p><%=(d.endTime) ? d.endTime : "یافت نشد"%></p>
                        <p><%=(d.date) ? d.date : "یافت نشد"%></p>
                    </li>
                <% }) %>

            <% }else{ %>
                <h1 style="color: var(--danger)" >موردی یافت نشد</h1>
            <% } %>

        </ul>
    </div>

    <script src="/js/axios.min.js"></script>
    <script src="/js/singleUserInformation.js"></script>
</body>
</html>